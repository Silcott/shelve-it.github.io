$(document).ready(function(){(function(){var a="../wp-content/themes/roots/shelveit/";$(".booksDEW").each(function(d,c){$(this).attr("data-order",d)});$("button").filter($(".levelbtn")).click(function b(){var o;var m=$(".game-type-stored").text();var j=$(".bookImage").filter(function(){return $(this).data("status")=="1"&&$(this).data("booktype")==m}).length;j=j-2;$("#mainMenuBtn").show();$("#new-game").hide();var f=this.id;$("button.playagain").attr("id",f);$(".playagain").hide();$("#sortable").show();$("#check").show();var n=this.id;$("#sortable").empty();var d=[];var l=[];var h=[];var g=[];var c=[];if(m=="booksFIC"){for(var k=0;k<j;k++){d.push(k)}}if(m=="booksDEW"){$(".booksDEW").each(function(i,p){var q=$(this).attr("src");var q=(q.split("/dew/"))[1];h=(q.split("_")[0]);g.push(h);l.push(i);c.push(q);var r=q.split(".jpg")[0];var r=q.split("_")})}switch(m){case"booksFIC":var e=d.sort(function(){return 0.5-Math.random()});o=a+"img/spines/fic/spine";imgType=".png";break;case"booksDEW":var e=c.sort(function(){return 0.5-Math.random()});o=a+"img/spines/dew/";imgType=".jpg";break}switch(m){case"booksFIC":for(var k=0;k<n;k++){$("#sortable").append("<div class='ui-state-default spineContainer'><div class='anim'><img id=\""+e[k]+"\" class='spine' src="+o+e[k]+".png></div></div>")}break;case"booksDEW":for(var k=0;k<n;k++){$("#sortable").append("<div class='ui-state-default spineContainer'><div class='anim'><img id=\""+(e[k]).split("_")[0]+"\"  class='spine' src="+o+e[k]+"></div></div>")}break}$("#sortable").hide().fadeIn(500);$("#start").hide(900)})})();(function(){var f=false;(function(){var g=document.createElement("div");g.innerHTML='<div style="-webkit-transition:color 1s linear;-moz-transition:color 1s linear;"></div>';f=(g.firstChild.style.webkitTransition!==undefined)||(g.firstChild.style.MozTransition!==undefined);delete g})();if(f){var c=1}else{var c=0}function e(){setTimeout(function(){$("#bubble-fail").fadeIn()},1000);setTimeout(function(){$("#bubble-fail").fadeOut()},3900);if(c===1){$(".anim").addClass("animated shake");setTimeout(function(){$(".anim").removeClass("animated shake")},2000)}else{var g={distance:30,times:3};$("#sortable").effect("shake",g,485)}}function a(h){function g(i){setTimeout(function(){$("#sortable").empty();$(".playagain").show();$("#new-game").fadeIn()},i)}$("#check").hide();$("#mainMenuBtn").hide();setTimeout(function(){$("#bubble-success").fadeIn()},1000);setTimeout(function(){$("#bubble-success").fadeOut(800)},3000);if(c===0){$("#sortable").slideUp(1400);g(3700)}else{$(".anim").addClass("animated tada");setTimeout(function(){$(".anim").addClass(h)},4000);g(5000)}}function d(h,g){return(h-g)}function b(h,g){return(g-h)}document.getElementById("check").onclick=function(){var s=["bounceOutRight","bounceOutLeft","flipOutY","flipOutX","fadeOut","fadeOutDownBig","bounceOut","fadeOutRightBig","fadeOutUp","lightSpeedOut","rollOut"];var o=s.sort(function(){return 0.5-Math.random()});var m=o[0];var h="animated "+m;var k=[],p=0,j=0,n,l,u,g,t,i,r=$("#sortable img"),q=$(".game-type-stored").text();switch(q){case"booksFIC":$.each(r,function(v){k.push($(this).attr("id"))});break;case"booksDEW":$.each(r,function(v){k.push($(this).attr("id"))});break}n=k.slice();l=k.sort(d).slice();u=n.toString();g=l.toString();if(u==g){a(h)}else{e()}}})();(function(){var b=$("game-type");var c=false;(function(){var d=document.createElement("div");d.innerHTML='<div style="-webkit-transition:color 1s linear;-moz-transition:color 1s linear;"></div>';c=(d.firstChild.style.webkitTransition!==undefined)||(d.firstChild.style.MozTransition!==undefined);delete d})();if(c){}else{$("#cssCheck").slideDown(1000)}$(document).on("click","#cssCheck img",function(){$("#cssCheck").slideUp()});menu_status=0;$("#reload").click(function(){location.reload()});$("#close-menu").on("click",function(){$("#mainMenuBtn").show();$("#menu").hide()});$("#mainMenuBtn").on("click",function(){$("#mainMenuBtn").hide();$("#new-game").hide();$("#menu").show()});$("#menu_newgame").on("click",function(){$("#menu").hide();$("#new-game-type").show()});$(".gameTypeSelection").on("click",function a(){var d=(this.id).split("?")[1];$(".game-type-stored").html(d);$("#new-game").show();$("#new-game-type").hide()});$("#close-new-game").on("click",function(){$("#menu").show();$("#new-game").hide()});$("#typeBack").on("click",function(){$("#new-game-type").hide();$("#menu").show()});$("#howtobtn").on("click",function(){$("#howto").show()});$("#howtoBackbtn").on("click",function(){$("#howto").hide()});$("#aboutbtn").on("click",function(){$("#about").show()});$("#aboutbackbtn").on("click",function(){$("#about").hide()})})()});